import{d as x,cK as T,p as N,a as B,c as s,cL as g,q as M,f as t,bt as H}from"../assets/index.efd02abb.js";import{M as S,T as O,N as C,L as F,H as U,a as w,b as V}from"./Logo-27d0db05.js";import{B as $,N as z,C as I}from"./Breadcrumb-4a93462b.js";import"./use-fullscreen-6e15fc66.js";import"./index-49dcc37e.js";import"./index-d95ae7da.js";import"./index-10ca659f.js";import"./Grid-080df741.js";import"./RadioGroup-dc775da2.js";import"./Forward-8afbdcac.js";import"./ReloadOutlined-73bec1cc.js";import"./Avatar-8e6a66bb.js";import"./Dropdown-9a986223.js";import"./create-ref-setter-04566897.js";import"./use-deounce-24c308fe.js";const Z=x({name:"MixinLayout",props:{nativeScrollbar:{type:Boolean,default:!0},menuOptions:{type:Array,default:()=>[]},tagsFixed:{type:Boolean,default:!0},collapsed:{type:Boolean,default:!0},inverted:{type:Boolean,default:!0},showTrigger:{type:[Boolean,String],default:!1},onScroll:{type:Function,default:void 0}},emits:["update:collapsed"],setup(n,{emit:f}){const i=T(),u=N(),r=B(!0),m=s(()=>["dark"].includes(u.navMode)),p=s(()=>u.isCutMenu),o=s(()=>{var e;return(e=i.matched.filter(l=>l.path)[0])==null?void 0:e.path}),a=s(()=>u.isShowTabs),c=s(()=>n.tagsFixed&&a.value?g.tagsHeight:0),h=s(()=>{const e=n.menuOptions.find(d=>d.path===o.value),l=((e==null?void 0:e.children)||[]).map(d=>({...d,icon:d.icon||(e==null?void 0:e.icon)}));return p.value?l:n.menuOptions});M(()=>i.fullPath,()=>{i.fullPath.startsWith("/redirect")||(r.value=h.value.length>0)},{immediate:!0});const y=s(()=>{const e={collapsed:n.collapsed,width:64},l={collapsed:!0,width:0};return p.value?r.value?e:l:e});function v(e){f("update:collapsed",e)}return{defaultInverted:m,isCutMenu:p,defaultValue:o,menuChildrensOptions:h,isShowSilder:r,state:y,onUpdateCollapsed:v,isShowTabs:a,contentTop:c}},render(){const{$slots:n,defaultValue:f,defaultInverted:i,menuOptions:u,tagsFixed:r,isShowTabs:m,isCutMenu:p,state:o,inverted:a,nativeScrollbar:c,isShowSilder:h,showTrigger:y,menuChildrensOptions:v,contentTop:e,onUpdateCollapsed:l,onScroll:d}=this,L=t(S,{mode:"horizontal",value:f,collapsed:!1,inverted:i,options:u,"children-field":"noChild"},null),b=m?t(C,{class:"layout-tags",bordered:!0},{default:()=>[t(O,null,null)]}):null;return t(w,{class:"layout-wrapper layout-wrapper-mixin"},{default:()=>[t(C,{class:"layout-header",inverted:i,bordered:!0},{default:()=>[t(F,{width:200,height:g.headerHeight},null),t(U,null,{left:()=>p?L:t($,null,null)})]}),t(w,{"has-sider":!0,position:"absolute",style:`top: ${g.headerHeight}px`},{default:()=>[t("div",{class:"layout-sider-wrapper"},[t(z,{class:"layout-sider",collapsed:o.collapsed,"collapse-mode":"width","collapsed-width":o.width,width:200,bordered:!0,inverted:a,"content-style":"height: 100%;","native-scrollbar":c,"show-trigger":h?y:!1,"onUpdate:collapsed":l},{default:()=>[t(S,{inverted:a,options:v},null)]}),t(I,{class:"mixin-collapse",collapsed:o.collapsed,size:o.collapsed?24:22,width:200,border:a?"top":"top,right",inverted:a,"collapsed-width":o.width},null)]),t(w,{class:"n-layout-main"},{default:()=>[r?b:null,t(V,{class:"layout-content",position:"absolute",style:`top: ${e}px; bottom: 0`,"native-scrollbar":c,onScroll:d},{default:()=>[r?null:b,H(n,"default")]})]})]})]})}});export{Z as default};
