import{d as x,u as T,z as B,f as M,g as s,cM as v,B as N,l as t,bw as H}from"../assets/index.eafcb62e.js";import{M as S,T as O,N as C,L as F,H as z,a as w,b as U}from"./Logo-1f8faca3.js";import{B as V,N as $,C as I}from"./Breadcrumb-71ce957a.js";import"./use-fullscreen-81a1a626.js";import"./index-5789dde5.js";import"./index-d95ae7da.js";import"./index-84c2a6c8.js";import"./Grid-a15c25ca.js";import"./RadioGroup-a7137b7b.js";import"./Forward-415dd7f2.js";import"./ReloadOutlined-7dcc0060.js";import"./Avatar-ea8a5c29.js";import"./Dropdown-5e9da828.js";import"./create-ref-setter-2fcdeee9.js";import"./use-deounce-a50a309a.js";const Z=x({name:"MixinLayout",props:{nativeScrollbar:{type:Boolean,default:!0},menuOptions:{type:Array,default:()=>[]},tagsFixed:{type:Boolean,default:!0},collapsed:{type:Boolean,default:!0},inverted:{type:Boolean,default:!0},showTrigger:{type:[Boolean,String],default:!1},onScroll:{type:Function,default:void 0}},emits:["update:collapsed"],setup(n,{emit:f}){const i=T(),u=B(),r=M(!0),m=s(()=>["dark"].includes(u.navMode)),p=s(()=>u.isCutMenu),o=s(()=>{var e;return(e=i.matched.filter(a=>a.path)[0])==null?void 0:e.path}),l=s(()=>u.isShowTabs),c=s(()=>n.tagsFixed&&l.value?v.tagsHeight:0),h=s(()=>{const e=n.menuOptions.find(d=>d.path===o.value),a=((e==null?void 0:e.children)||[]).map(d=>({...d,icon:d.icon||(e==null?void 0:e.icon)}));return p.value?a:n.menuOptions});N(()=>i.fullPath,()=>{i.fullPath.startsWith("/redirect")||(r.value=h.value.length>0)},{immediate:!0});const y=s(()=>{const e={collapsed:n.collapsed,width:64},a={collapsed:!0,width:0};return p.value?r.value?e:a:e});function g(e){f("update:collapsed",e)}return{defaultInverted:m,isCutMenu:p,defaultValue:o,menuChildrensOptions:h,isShowSilder:r,state:y,onUpdateCollapsed:g,isShowTabs:l,contentTop:c}},render(){const{$slots:n,defaultValue:f,defaultInverted:i,menuOptions:u,tagsFixed:r,isShowTabs:m,isCutMenu:p,state:o,inverted:l,nativeScrollbar:c,isShowSilder:h,showTrigger:y,menuChildrensOptions:g,contentTop:e,onUpdateCollapsed:a,onScroll:d}=this,L=t(S,{mode:"horizontal",value:f,collapsed:!1,inverted:i,options:u,"children-field":"noChild"},null),b=m?t(C,{class:"layout-tags",bordered:!0},{default:()=>[t(O,null,null)]}):null;return t(w,{class:"layout-wrapper layout-wrapper-mixin"},{default:()=>[t(C,{class:"layout-header",inverted:i,bordered:!0},{default:()=>[t(F,{width:200,height:v.headerHeight},null),t(z,null,{left:()=>p?L:t(V,null,null)})]}),t(w,{"has-sider":!0,position:"absolute",style:`top: ${v.headerHeight}px`},{default:()=>[t("div",{class:"layout-sider-wrapper"},[t($,{class:"layout-sider",collapsed:o.collapsed,"collapse-mode":"width","collapsed-width":o.width,width:200,bordered:!0,inverted:l,"content-style":"height: 100%;","native-scrollbar":c,"show-trigger":h?y:!1,"onUpdate:collapsed":a},{default:()=>[t(S,{inverted:l,options:g},null)]}),t(I,{class:"mixin-collapse",collapsed:o.collapsed,size:o.collapsed?24:22,width:200,border:l?"top":"top,right",inverted:l,"collapsed-width":o.width},null)]),t(w,{class:"n-layout-main"},{default:()=>[r?b:null,t(U,{class:"layout-content",position:"absolute",style:`top: ${e}px; bottom: 0`,"native-scrollbar":c,onScroll:d},{default:()=>[r?null:b,H(n,"default")]})]})]})]})}});export{Z as default};
