import{$ as H,aM as Y,a1 as R,a2 as O,a0 as P,d as B,J as de,bq as he,L as oe,br as pe,ah as fe,G as j,b as y,e as z,i as S,a as F,c as _,bs as Z,aH as le,p as G,bt as me,m as W,bu as D,f as t,bv as _e,g as v,O as ge,n as se,ao as E,l as A,q as ve,bw as ee,aj as be,am as I,bx as ke,F as we,h as xe,k as te,av as ye,D as $e,by as Ce,bz as Se,bA as ze,bB as Be}from"../assets/index.86ed0bcc.js";import{u as Te,F as Re}from"./use-fullscreen-835f8d64.js";import{N as re}from"./RadioGroup-83f10f40.js";import{F as Fe,R as Ie}from"./ReloadOutlined-9ac6942b.js";import{_ as Oe}from"./Dropdown-004546b9.js";import{_ as ae,P as Ve}from"./PlusOutlined-1f1f9c83.js";import{c as Le}from"./index-d95ae7da.js";const a="0!important",ce="-1px!important";function V(e){return O(e+"-type",[R("& +",[H("button",{},[O(e+"-type",[P("border",{borderLeftWidth:a}),P("state-border",{left:ce})])])])])}function L(e){return O(e+"-type",[R("& +",[H("button",[O(e+"-type",[P("border",{borderTopWidth:a}),P("state-border",{top:ce})])])])])}const Ee=H("button-group",`
 flex-wrap: nowrap;
 display: inline-flex;
 position: relative;
`,[Y("vertical",{flexDirection:"row"},[Y("rtl",[H("button",[R("&:first-child:not(:last-child)",`
 margin-right: ${a};
 border-top-right-radius: ${a};
 border-bottom-right-radius: ${a};
 `),R("&:last-child:not(:first-child)",`
 margin-left: ${a};
 border-top-left-radius: ${a};
 border-bottom-left-radius: ${a};
 `),R("&:not(:first-child):not(:last-child)",`
 margin-left: ${a};
 margin-right: ${a};
 border-radius: ${a};
 `),V("default"),O("ghost",[V("primary"),V("info"),V("success"),V("warning"),V("error")])])])]),O("vertical",{flexDirection:"column"},[H("button",[R("&:first-child:not(:last-child)",`
 margin-bottom: ${a};
 margin-left: ${a};
 margin-right: ${a};
 border-bottom-left-radius: ${a};
 border-bottom-right-radius: ${a};
 `),R("&:last-child:not(:first-child)",`
 margin-top: ${a};
 margin-left: ${a};
 margin-right: ${a};
 border-top-left-radius: ${a};
 border-top-right-radius: ${a};
 `),R("&:not(:first-child):not(:last-child)",`
 margin: ${a};
 border-radius: ${a};
 `),L("default"),O("ghost",[L("primary"),L("info"),L("success"),L("warning"),L("error")])])])]),Ae={size:{type:String,default:void 0},vertical:Boolean},Ue=B({name:"ButtonGroup",props:Ae,setup(e){const{mergedClsPrefixRef:n,mergedRtlRef:i}=de(e);return he("-button-group",Ee,n),oe(pe,e),{rtlEnabled:fe("ButtonGroup",i,n),mergedClsPrefix:n}},render(){const{mergedClsPrefix:e}=this;return j("div",{class:[`${e}-button-group`,this.rtlEnabled&&`${e}-button-group--rtl`,this.vertical&&`${e}-button-group--vertical`],role:"group"},this.$slots)}}),Me={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},Ne=S("path",{d:"M840 836H184c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h656c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm0-724H184c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h656c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM610.8 378c6 0 9.4-7 5.7-11.7L515.7 238.7a7.14 7.14 0 0 0-11.3 0L403.6 366.3a7.23 7.23 0 0 0 5.7 11.7H476v268h-62.8c-6 0-9.4 7-5.7 11.7l100.8 127.5c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7.4-11.7-5.7-11.7H548V378h62.8z",fill:"currentColor"},null,-1),He=[Ne],Pe=B({name:"ColumnHeightOutlined",render:function(n,i){return y(),z("svg",Me,He)}}),De={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},je=S("path",{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z",fill:"currentColor"},null,-1),Ge=[je],We=B({name:"DeleteOutlined",render:function(n,i){return y(),z("svg",De,Ge)}}),qe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},Je=S("path",{d:"M505.7 661a8 8 0 0 0 12.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z",fill:"currentColor"},null,-1),Ke=[Je],Qe=B({name:"DownloadOutlined",render:function(n,i){return y(),z("svg",qe,Ke)}}),Xe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},Ye=S("path",{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 0 0 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 0 0 9.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3l-362.7 362.6l-88.9 15.7l15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z",fill:"currentColor"},null,-1),Ze=[Ye],et=B({name:"EditOutlined",render:function(n,i){return y(),z("svg",Xe,Ze)}}),tt={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},nt=S("path",{d:"M762 164h-64c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V172c0-4.4-3.6-8-8-8zm-508 0v72.4c0 9.5 4.2 18.4 11.4 24.5L564.6 512L265.4 763.1c-7.2 6.1-11.4 15-11.4 24.5V860c0 6.8 7.9 10.5 13.1 6.1L689 512L267.1 157.9A7.95 7.95 0 0 0 254 164z",fill:"currentColor"},null,-1),ot=[nt],lt=B({name:"VerticalLeftOutlined",render:function(n,i){return y(),z("svg",tt,ot)}}),st={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},rt=S("path",{d:"M326 164h-64c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h64c4.4 0 8-3.6 8-8V172c0-4.4-3.6-8-8-8zm444 72.4V164c0-6.8-7.9-10.5-13.1-6.1L335 512l421.9 354.1c5.2 4.4 13.1.7 13.1-6.1v-72.4c0-9.4-4.2-18.4-11.4-24.5L459.4 512l299.2-251.1c7.2-6.1 11.4-15.1 11.4-24.5z",fill:"currentColor"},null,-1),at=[rt],ct=B({name:"VerticalRightOutlined",render:function(n,i){return y(),z("svg",st,at)}});function ne(e){return e==null?void 0:e.map(n=>({hidden:!1,fixed:!1,...n}))}function it(e){const n=F(ne(e.columns)),i=F(!!e.showCheck),o=F(!!e.showIndex);function p(){i.value=!!e.showCheck,o.value=!!e.showIndex,n.value=ne(e.columns)}const w=_(()=>(n.value||[]).reduce((d,r)=>(r.fixed==="left"?d.left.push(r):r.fixed==="right"?d.right.push(r):d.middle.push(r),d),{left:[],middle:[],right:[]})),f=_(()=>{const{columns:d,pagination:r,page:x,size:$,showCheck:u,showIndex:m}=e;if(!d)return;const{left:l,middle:k,right:s}=w.value,g=[...l,...k,...s].filter(b=>!b.hidden),U=(d||[]).some(b=>b.type==="selection"),M=r!==!1&&x>0?(x-1)*$:0;return o.value&&g.unshift({title:"\u5E8F\u53F7",key:"index",align:"center",fixed:l.length>0||Z(m)?"left":!1,width:80,render:(b,C)=>j("span",M+C+1)}),i.value&&!U&&g.unshift({type:"selection",fixed:m==="left"||l.length>0||Z(u)?"left":!1}),g});return{baseColumns:n,columns:f,showCheck:i,showIndex:o,reset:p}}const ut={columns:{type:Array,default:void 0},pagination:{type:[Boolean,Object],default:!0},page:{type:Number,default:1},size:{type:Number,default:10},total:{type:Number,default:0},showCheck:{type:[Boolean,String],default:!1},showIndex:{type:[Boolean,String],default:!1},striped:{type:Boolean,default:!1}},dt=B({name:"TableRender",components:{NDataTable:ae,NEmpty:le},inheritAttrs:!1,props:ut,emits:["update:page","update:size","page-change"],setup(e,{emit:n,expose:i}){const o=F(),p=F(null),w=G(),{isFullScreen:f,toggle:d}=Te(o),{baseColumns:r,columns:x,showCheck:$,showIndex:u,reset:m}=it(e),l=F("medium"),k=F(e.striped),s=_(()=>({"--icon-hover-color":w.themeColor,"--table-wrapper-back":w.navMode==="diablo"?"":"#fff"}));oe(ie,{columns:r,size:l,showStriped:k,isFullScreen:f,showCheck:$,showIndex:u,toggleFull:d,reset:m,setFixed:U,setValue:b,onUpdateCheckAll:M});const g=_(()=>{const{pagination:c,page:h,size:T,total:ue}=e,X=Object.assign({page:h,pageSize:T,itemCount:ue,pageSizes:[10,20,30,40,50,100],pageSlot:7,showSizePicker:!0,showQuickJumper:!0,prefix:({itemCount:N})=>j("span",null,`\u5171${N}\u6761`),onUpdatePage:N=>{n("update:page",N),n("page-change")},onUpdatePageSize:N=>{n("update:size",N),n("page-change")}},c);return me(c)?c?X:!1:X});function U(c,h){!r.value||(r.value[h].fixed=c)}function M(c,h){if(!!r.value){if(h!==void 0){r.value[h].hidden=c;return}r.value.forEach(T=>{T.hidden=c})}}function b(c,h){switch(c){case"size":l.value=h;break;case"showCheck":$.value=h;break;case"showIndex":u.value=h;break;case"showStriped":k.value=h;break}}function C(){var c;(c=p.value)==null||c.clearFilters()}function q(){var c;(c=p.value)==null||c.clearSorter()}function J(c){var h;(h=p.value)==null||h.filters(c)}function K(c,h){var T;(T=p.value)==null||T.scrollTo(c,h)}function Q(c,h){var T;(T=p.value)==null||T.sort(c,h)}return i({clearFilters:C,clearSorter:q,filters:J,scrollTo:K,sort:Q}),{tableRenderWrapperRef:o,dataTableRef:p,columns:x,tableSize:l,showStriped:k,tableRenderStyle:s,defaultPagination:g,clearFilters:C,clearSorter:q,filters:J,scrollTo:K,sort:Q}}});const ht={key:0,class:"table-render-empty"},pt={class:"table-render"};function ft(e,n,i,o,p,w){var r;const f=le,d=ae;return y(),z("div",{ref:"tableRenderWrapperRef",class:"table-render-wrapper",style:se(e.tableRenderStyle)},[D(e.$slots,"tool"),e.columns&&((r=e.columns)==null?void 0:r.length)<=0?(y(),z("div",ht,[t(f,{description:"\u6682\u65E0\u5217\u6570\u636E"})])):_e("v-if",!0),S("div",pt,[t(d,ge({ref:"dataTableRef",remote:"",columns:e.columns,striped:e.showStriped,pagination:e.defaultPagination,size:e.tableSize},e.$attrs),{empty:v(()=>[D(e.$slots,"empty")]),_:3},16,["columns","striped","pagination","size"])])],4)}const Rt=W(dt,[["render",ft],["__file","/home/runner/work/naive-admin/naive-admin/src/components/TableRender/TableRender.vue"]]),mt=B({name:"TableSet",components:{NCheckbox:re,NButton:E,Icon:A,VerticalLeftOutlined:lt,VerticalRightOutlined:ct},props:{checkAll:{type:Boolean,default:!1},checkIndex:{type:Boolean,default:!1},checkBox:{type:Boolean,default:!1},columns:{type:Array,default:()=>[]}},emits:["update:checkAll","update:checkIndex","update:checkBox","reset","update:checked","update:fixed"],setup(e,{emit:n}){const i=G(),o=F([]),p=_(()=>({"--icon-hover-color":i.themeColor})),w=_({get:()=>e.checkAll,set:u=>n("update:checkAll",u)}),f=_({get:()=>e.checkIndex,set:u=>n("update:checkIndex",u)}),d=_({get:()=>e.checkBox,set:u=>n("update:checkBox",u)});ve(e.columns,u=>{o.value=u},{immediate:!0,deep:!0});function r(){n("reset")}function x(u,m){n("update:checked",{checked:!u,index:m})}function $(u,m,l){n("update:fixed",m.fixed===u?!1:u,l)}return{columnsList:o,tableSetStyle:p,isCheckAll:w,isCheckIndex:f,isCheckBox:d,onReset:r,onFixed:$,onUpdateChecked:x}}});const _t={class:"table-set__header"},gt={class:"index"},vt={class:"text"};function bt(e,n,i,o,p,w){const f=re,d=E,r=ee("VerticalRightOutlined"),x=A,$=ee("VerticalLeftOutlined"),u=Ue,m=ye;return y(),be(m,{trigger:"click",placement:"bottom-end","content-style":"padding: 0;"},{trigger:v(()=>[D(e.$slots,"default",{},void 0,!0)]),header:v(()=>[S("div",_t,[t(f,{checked:e.isCheckAll,"onUpdate:checked":n[0]||(n[0]=l=>e.isCheckAll=l)},{default:v(()=>[I("\u5217\u5C55\u793A")]),_:1},8,["checked"]),t(f,{checked:e.isCheckIndex,"onUpdate:checked":n[1]||(n[1]=l=>e.isCheckIndex=l)},{default:v(()=>[I("\u5E8F\u53F7\u5217")]),_:1},8,["checked"]),t(f,{checked:e.isCheckBox,"onUpdate:checked":n[2]||(n[2]=l=>e.isCheckBox=l)},{default:v(()=>[I("\u52FE\u9009\u5217")]),_:1},8,["checked"]),t(d,{type:"primary",text:"",onClick:e.onReset},{default:v(()=>[I("\u91CD\u7F6E")]),_:1},8,["onClick"])])]),default:v(()=>[t(ke,{class:"table-set__list",style:se(e.tableSetStyle),tag:"div",name:"list-fade"},{default:v(()=>[(y(!0),z(we,null,xe(e.columns,(l,k)=>(y(),z("div",{key:l.title+l.key,class:"table-set__list-item"},[S("span",gt,te(k+1),1),t(f,{class:"checkbox",checked:!l.hidden,"onUpdate:checked":s=>e.onUpdateChecked(s,k)},{default:v(()=>[S("span",vt,te(l.title),1)]),_:2},1032,["checked","onUpdate:checked"]),t(u,{size:"tiny"},{default:v(()=>[t(d,{type:l.fixed==="left"?"primary":"default",onClick:s=>e.onFixed("left",l,k)},{icon:v(()=>[t(x,{size:18},{default:v(()=>[t(r)]),_:1})]),_:2},1032,["type","onClick"]),t(d,{type:l.fixed==="right"?"primary":"default",onClick:s=>e.onFixed("right",l,k)},{icon:v(()=>[t(x,{size:18},{default:v(()=>[t($)]),_:1})]),_:2},1032,["type","onClick"])]),_:2},1024)]))),128))]),_:1},8,["style"])]),_:3})}const kt=W(mt,[["render",bt],["__scopeId","data-v-0c3320fb"],["__file","/home/runner/work/naive-admin/naive-admin/src/components/TableRender/components/TableSet.vue"]]);function wt(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!Be(e)}const xt=B({name:"TableTool",props:{showBehavior:{type:Boolean,default:!0},tools:{type:Array,default:()=>["striped","full","refresh","size","set"]}},emits:["behavior","refresh"],setup(e,{emit:n}){const i=G(),o=$e(ie);if(!o)throw new Error("[TableRedner/TableTool]\uFF1A`TableTool` must be placed in `TableRedner`");const p=_(()=>o.columns.value||[]),w=_(()=>{const s=o.size.value,g=`color: ${i.themeColor};`;return[{label:"\u7D27\u51D1",key:"small",props:{style:s==="small"?g:""}},{label:"\u9ED8\u8BA4",key:"medium",props:{style:s==="medium"?g:""}},{label:"\u5BBD\u677E",key:"large",props:{style:s==="large"?g:""}}]}),f=_(()=>p.value.every(s=>!s.hidden)),d=_(()=>o.showIndex.value),r=_(()=>o.showCheck.value),x=_(()=>!o.isFullScreen.value),$=_(()=>o.showStriped.value),u=_(()=>{const{setValue:s,toggleFull:g,reset:U,setFixed:M}=o;return{striped:()=>m("\u6591\u9A6C\u7EB9",t(Ce,{value:$.value,onUpdateValue:b=>s("showStriped",b)},null)),full:()=>m("\u8868\u683C\u5168\u5C4F",t(A,{class:"icon",size:20,onClick:g},{default:()=>[x?t(Re,null,null):t(Fe,null,null)]})),refresh:()=>m("\u5237\u65B0",t(A,{class:"icon",size:20,onClick:()=>n("refresh")},{default:()=>[t(Ie,null,null)]})),size:()=>t(Oe,{trigger:"click",options:w.value,onSelect:b=>s("size",b)},{default:()=>m("\u5BC6\u5EA6",t(A,{class:"icon",size:20},{default:()=>[t(Pe,null,null)]}))}),set:()=>{let b;return t(kt,{checkAll:f.value,checkIndex:d.value,checkBox:r.value,"onUpdate:checkAll":C=>k({checked:!C}),"onUpdate:checkIndex":C=>s("showIndex",C),"onUpdate:checkBox":C=>s("showCheck",C),columns:p.value,onReset:U,"onUpdate:fixed":M,"onUpdate:checked":k},wt(b=m("\u5217\u8BBE\u7F6E",t(A,{class:"icon",size:20},{default:()=>[t(Se,null,null)]})))?b:{default:()=>[b]})}}});function m(s,g){return t(ze,null,{default:()=>t("span",null,[s]),trigger:()=>g})}function l(s){n("behavior",s)}function k({checked:s,index:g}){o.onUpdateCheckAll(s,g)}return{onBehavior:l,setListMap:u}},render(){const{$slots:e,tools:n,showBehavior:i,onBehavior:o,setListMap:p}=this;return t("div",{class:"table-render-toolbar"},[t("div",{class:"behavior"},[i?D(e,"behavior",void 0,()=>[t(E,{type:"primary",onClick:()=>o("insert")},{default:()=>t("span",null,[I("\u65B0\u589E")]),icon:()=>t(Ve,null,null)}),t(E,{type:"success",onClick:()=>o("update")},{default:()=>t("span",null,[I("\u4FEE\u6539")]),icon:()=>t(et,null,null)}),t(E,{type:"error",onClick:()=>o("delete")},{default:()=>t("span",null,[I("\u5220\u9664")]),icon:()=>t(We,null,null)}),t(E,{type:"warning",onClick:()=>o("export")},{default:()=>t("span",null,[I("\u5BFC\u51FA")]),icon:()=>t(Qe,null,null)})]):null]),t("div",{class:"set"},[[...new Set(n)].map(w=>{const f=p[w];return f?f():null})])])}});const Ft=W(xt,[["__file","/home/runner/work/naive-admin/naive-admin/src/components/TableRender/components/TableTool.vue"]]),ie=Le("TableTool");export{Rt as T,Ft as a};
