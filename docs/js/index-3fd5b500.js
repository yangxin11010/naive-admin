import{d as b,b as v,e as g,i as f,ao as $,m as F,p as q,a as w,c as p,q as ae,_ as ce,bo as R,aj as ie,g as h,bp as M,f as t,h as re,l as N,F as ue,bq as de,am as z,aB as he,z as pe,br as fe,bs as _e,bt as ve,O as j,aL as me,bu as ke,bv as we,bw as V,bx as E,B as ge}from"../assets/index.c1922953.js";import{u as be,F as xe}from"./use-fullscreen-9444c0f8.js";import{_ as W}from"./Checkbox-1a09f51b.js";import{P as Se,N as ye}from"./PlusOutlined-9cb6fbc3.js";import{F as Ce,R as Be}from"./ReloadOutlined-16c7c4ad.js";import{_ as $e}from"./Dropdown-a398c716.js";const ze={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},Oe=f("path",{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0 0 48.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z",fill:"currentColor"},null,-1),Ue=[Oe];var Ae=b({name:"ArrowDownOutlined",render:function(n,o){return v(),g("svg",ze,Ue)}});const Le={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},Ie=f("path",{d:"M868 545.5L536.1 163a31.96 31.96 0 0 0-48.3 0L156 545.5a7.97 7.97 0 0 0 6 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z",fill:"currentColor"},null,-1),Te=[Ie];var Me=b({name:"ArrowUpOutlined",render:function(n,o){return v(),g("svg",Le,Te)}});const Fe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},De=f("path",{d:"M840 836H184c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h656c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zm0-724H184c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h656c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8zM610.8 378c6 0 9.4-7 5.7-11.7L515.7 238.7a7.14 7.14 0 0 0-11.3 0L403.6 366.3a7.23 7.23 0 0 0 5.7 11.7H476v268h-62.8c-6 0-9.4 7-5.7 11.7l100.8 127.5c2.9 3.7 8.5 3.7 11.3 0l100.8-127.5c3.7-4.7.4-11.7-5.7-11.7H548V378h62.8z",fill:"currentColor"},null,-1),He=[De];var Re=b({name:"ColumnHeightOutlined",render:function(n,o){return v(),g("svg",Fe,He)}});const Ne={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},je=f("path",{d:"M360 184h-8c4.4 0 8-3.6 8-8v8h304v-8c0 4.4 3.6 8 8 8h-8v72h72v-80c0-35.3-28.7-64-64-64H352c-35.3 0-64 28.7-64 64v80h72v-72zm504 72H160c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h60.4l24.7 523c1.6 34.1 29.8 61 63.9 61h454c34.2 0 62.3-26.8 63.9-61l24.7-523H888c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM731.3 840H292.7l-24.2-512h487l-24.2 512z",fill:"currentColor"},null,-1),Ve=[je];var Ee=b({name:"DeleteOutlined",render:function(n,o){return v(),g("svg",Ne,Ve)}});const Pe={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},qe=f("path",{d:"M505.7 661a8 8 0 0 0 12.6 0l112-141.7c4.1-5.2.4-12.9-6.3-12.9h-74.1V168c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v338.3H400c-6.7 0-10.4 7.7-6.3 12.9l112 141.8zM878 626h-60c-4.4 0-8 3.6-8 8v154H214V634c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v198c0 17.7 14.3 32 32 32h684c17.7 0 32-14.3 32-32V634c0-4.4-3.6-8-8-8z",fill:"currentColor"},null,-1),We=[qe];var Ge=b({name:"DownloadOutlined",render:function(n,o){return v(),g("svg",Pe,We)}});const Je={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 1024 1024"},Qe=f("path",{d:"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 0 0 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 0 0 9.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3l-362.7 362.6l-88.9 15.7l15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z",fill:"currentColor"},null,-1),Ke=[Qe];var Xe=b({name:"EditOutlined",render:function(n,o){return v(),g("svg",Je,Ke)}});const Ye=b({name:"TableSet",components:{NCheckbox:W,NButton:$,Icon:F,ArrowDownOutlined:Ae,ArrowUpOutlined:Me},props:{checkAll:{type:Boolean,default:!1},checkIndex:{type:Boolean,default:!1},checkBox:{type:Boolean,default:!1},columns:{type:Array,default:()=>[]}},emits:["update:checkAll","update:checkIndex","update:checkBox","reset","update:checked","update:move"],setup(e,{emit:n}){const o=q(),m=w([]),u=p(()=>({"--icon-hover-color":o.themeColor})),x=p({get:()=>e.checkAll,set:a=>n("update:checkAll",a)}),r=p({get:()=>e.checkIndex,set:a=>n("update:checkIndex",a)}),i=p({get:()=>e.checkBox,set:a=>n("update:checkBox",a)});ae(e.columns,a=>{m.value=a},{immediate:!0,deep:!0});function d(){n("reset")}function k(a,s){n("update:checked",{checked:!a,index:s})}function S(a,s){n("update:move",{type:a,index:s})}return{columnsList:m,tableSetStyle:u,isCheckAll:x,isCheckIndex:r,isCheckBox:i,onReset:d,onUpdateChecked:k,onMove:S}}}),Ze={class:"table-set__header"},et=z(" \u5217\u5C55\u793A "),tt=z(" \u5E8F\u53F7\u5217 "),nt=z(" \u52FE\u9009\u5217 "),ot=z(" \u91CD\u7F6E "),lt={class:"index"},st={class:"text"},at={class:"move"};function ct(e,n,o,m,u,x){const r=W,i=$,d=R("ArrowUpOutlined"),k=F,S=R("ArrowDownOutlined"),a=he;return v(),ie(a,{trigger:"click",placement:"bottom-end"},{trigger:h(()=>[M(e.$slots,"default",{},void 0,!0)]),header:h(()=>[f("div",Ze,[t(r,{checked:e.isCheckAll,"onUpdate:checked":n[0]||(n[0]=s=>e.isCheckAll=s)},{default:h(()=>[et]),_:1},8,["checked"]),t(r,{checked:e.isCheckIndex,"onUpdate:checked":n[1]||(n[1]=s=>e.isCheckIndex=s)},{default:h(()=>[tt]),_:1},8,["checked"]),t(r,{checked:e.isCheckBox,"onUpdate:checked":n[2]||(n[2]=s=>e.isCheckBox=s)},{default:h(()=>[nt]),_:1},8,["checked"]),t(i,{type:"primary",text:"",onClick:e.onReset},{default:h(()=>[ot]),_:1},8,["onClick"])])]),default:h(()=>[t(de,{class:"table-set__list",tag:"div",name:"list-fade"},{default:h(()=>[(v(!0),g(ue,null,re(e.columns,(s,B)=>(v(),g("div",{key:s.title+s.key,class:"table-set__list-item"},[f("span",lt,N(B+1),1),t(r,{class:"checkbox",checked:!s.hidden,"onUpdate:checked":O=>e.onUpdateChecked(O,B)},{default:h(()=>[f("span",st,N(s.title),1)]),_:2},1032,["checked","onUpdate:checked"]),f("div",at,[t(k,{class:"arrow",size:18,onClick:O=>e.onMove("up",B)},{default:h(()=>[t(d)]),_:2},1032,["onClick"]),t(k,{class:"arrow",size:18,onClick:O=>e.onMove("down",B)},{default:h(()=>[t(S)]),_:2},1032,["onClick"])])]))),128))]),_:1})]),_:3})}var it=ce(Ye,[["render",ct],["__scopeId","data-v-35457ec9"]]);function P(e){return e==null?void 0:e.map(n=>({hidden:!1,fixed:!1,...n}))}function rt(e){const n=w(P(e));function o(){n.value=P(e)}return{columns:n,reset:o}}function T(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Object]"&&!ke(e)}var mt=b({name:"BasicTable",inheritAttrs:!1,props:{showToolbar:{type:Boolean,default:!0},behavior:{type:Boolean,default:!0},toolbar:{type:Boolean,default:!0},columns:{type:Array,default:void 0},pagination:{type:[Boolean,Object],default:!0},page:{type:Number,default:1},size:{type:Number,default:10},total:{type:Number,default:0},loading:{type:Boolean,default:void 0},injectkey:{type:[String,Symbol],default:void 0},defaultShowCheck:{type:[Boolean,String],default:!1},defaultShowIndex:{type:[Boolean,String],default:!1}},emits:["update:page","update:size","page-change","behavior","refresh"],setup(e,{emit:n}){const{columns:o,reset:m}=rt(e.columns),u=q(),x=pe(fe(e.injectkey)?ut:e.injectkey,{loading:!1,size:"medium"}),r=w(),{isFullScreen:i,toggle:d}=be(r),k=w(null),S=w(x.size),a=w(!!e.defaultShowIndex),s=w(!!e.defaultShowCheck),B=w(!1),O=p(()=>V(e.loading)?e.loading:x.loading),D=p(()=>{var l;return o.value?(l=o.value)==null?void 0:l.every(c=>!c.hidden):!1}),G=p(()=>({"--icon-hover-color":u.themeColor,"--table-wrapper-back":u.navMode==="diablo"?"":"#fff"})),J=p(()=>[{label:"\u7D27\u51D1",key:"small",props:{style:L("small")}},{label:"\u9ED8\u8BA4",key:"medium",props:{style:L("medium")}},{label:"\u5BBD\u677E",key:"large",props:{style:L("large")}}]),Q=p(()=>{const{columns:l,pagination:c,page:y,size:U,defaultShowCheck:C,defaultShowIndex:_}=e,I=(o.value||[]).filter(A=>!A.hidden),H=(l||[]).some(A=>A.fixed==="left"),le=c!==!1&&y>0?(y-1)*U:0;return s.value&&I.unshift({type:"selection",fixed:_==="left"||H?"left":E(C)?C:!1}),a.value&&I.splice(s.value?1:0,0,{title:"\u5E8F\u53F7",key:"index",align:"center",fixed:H?"left":E(_)?_:!1,width:80,render:(A,se)=>ge("span",le+se+1)}),o.value?I:void 0}),K=p(()=>{const{pagination:l,page:c,size:y,total:U}=e,C=Object.assign({page:c,pageSize:y,itemCount:U,pageSizes:[10,20,30,40,50,100],pageSlot:7,showSizePicker:!0,showQuickJumper:!0,prefix:({itemCount:_})=>t("span",null,[z("\u5171"),_,z("\u6761")]),onUpdatePage:_=>{n("update:page",_),n("page-change")},onUpdatePageSize:_=>{n("update:size",_),n("page-change")}},l);return V(l)?l?C:!1:C});function L(l){return S.value===l?`color: ${u.themeColor};`:""}function X(l){S.value=l}function Y(){if(o.value){const l=D.value;o.value.forEach(c=>{c.hidden=l})}}function Z(){a.value=!!e.defaultShowIndex,s.value=!!e.defaultShowCheck,m()}function ee({checked:l,index:c}){o.value&&(o.value[c].hidden=l)}function te(l){n("behavior",l)}function ne(){n("refresh")}function oe({type:l,index:c}){if(!o.value)return;const y=l==="up"?c<=0?o.value.length-1:c-1:c>=o.value.length-1?0:c+1,U=o.value[c],C=o.value[y];o.value[c]=C,o.value[y]=U}return{dataTableRef:k,resourceColumus:o,columnsList:Q,basicTableStyle:G,densityOptions:J,defaultpagination:K,tableSize:S,isCheckAll:D,isShowIndex:a,isShowCheck:s,isShowStriped:B,onDensitySelect:X,onUpdateCheckAll:Y,onResetSet:Z,onUpdateChecked:ee,onUpdateMove:oe,onBehavior:te,onRefresh:ne,basicTableWrapperRef:r,isFullScreen:i,toggleScreen:d,baseLoading:O}},render(){var r;let e,n;const o=[t($,{type:"primary",onClick:()=>this.onBehavior("insert")},{default:()=>"\u65B0\u589E",icon:()=>t(Se,null,null)}),t($,{type:"success",onClick:()=>this.onBehavior("update")},{default:()=>"\u4FEE\u6539",icon:()=>t(Xe,null,null)}),t($,{type:"error",onClick:()=>this.onBehavior("delete")},{default:()=>"\u5220\u9664",icon:()=>t(Ee,null,null)}),t($,{type:"warning",onClick:()=>this.onBehavior("export")},{default:()=>"\u5BFC\u51FA",icon:()=>t(Ge,null,null)})],m=(i,d)=>t(we,null,{default:()=>i,trigger:()=>d}),u=(i,d,k)=>m(i,t(F,{class:"icon",size:20,onClick:k},T(d)?d:{default:()=>[d]})),x=t("div",{class:"basic-table-toolbar"},[t("div",{class:"behavior"},[this.behavior?this.$slots.behavior?M(this.$slots,"behavior"):o:null]),t("div",{class:"set"},[m("\u6591\u9A6C\u7EB9",t(_e,{value:this.isShowStriped,"onUpdate:value":i=>this.isShowStriped=i},null)),u("\u8868\u683C\u5168\u5C4F",this.isFullScreen?t(Ce,null,null):t(xe,null,null),this.toggleScreen),u("\u5237\u65B0",t(Be,null,null),this.onRefresh),t($e,{trigger:"click",options:this.densityOptions,onSelect:this.onDensitySelect},T(e=u("\u5BC6\u5EA6",t(Re,null,null)))?e:{default:()=>[e]}),t(it,{checkAll:this.isCheckAll,checkIndex:this.isShowIndex,checkBox:this.isShowCheck,columns:this.resourceColumus,"onUpdate:checkAll":this.onUpdateCheckAll,"onUpdate:checkIndex":i=>this.isShowIndex=i,"onUpdate:checkBox":i=>this.isShowCheck=i,"onUpdate:checked":this.onUpdateChecked,onReset:this.onResetSet,"onUpdate:move":this.onUpdateMove},T(n=u("\u5217\u8BBE\u7F6E",t(ve,null,null)))?n:{default:()=>[n]})])]);return t("div",{class:"basic-table-wrapper",ref:"basicTableWrapperRef",style:this.basicTableStyle},[this.showToolbar?x:null,t("div",{class:"basic-table"},[t(ye,j({ref:"dataTableRef",remote:!0,columns:this.columnsList,size:this.tableSize,striped:this.isShowStriped,loading:this.baseLoading,pagination:this.defaultpagination},j(this.$attrs)),{empty:()=>M(this.$slots,"empty")})]),this.columnsList&&((r=this.columnsList)==null?void 0:r.length)<=0?t("div",{class:"basic-table-empty"},[t(me,{description:"\u6682\u65E0\u5217\u6570\u636E"},null)]):null])}});const ut=Symbol("BasicTable");export{ut as B,mt as a};
