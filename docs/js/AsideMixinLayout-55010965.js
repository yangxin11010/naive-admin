import{d as E,cK as F,p as U,cU as z,a as O,c as s,cL as T,q as A,f as e,bt as I}from"../assets/index.efd02abb.js";import{T as P,N as V,L as W,M,a as y,H as k,b as N}from"./Logo-27d0db05.js";import{N as $,C as q,B as K}from"./Breadcrumb-4a93462b.js";import"./use-fullscreen-6e15fc66.js";import"./index-49dcc37e.js";import"./index-d95ae7da.js";import"./index-10ca659f.js";import"./Grid-080df741.js";import"./RadioGroup-dc775da2.js";import"./Forward-8afbdcac.js";import"./ReloadOutlined-73bec1cc.js";import"./Avatar-8e6a66bb.js";import"./Dropdown-9a986223.js";import"./create-ref-setter-04566897.js";import"./use-deounce-24c308fe.js";const re=E({name:"AsideMixinLayout",props:{nativeScrollbar:{type:Boolean,default:!0},menuOptions:{type:Array,default:()=>[]},headerFixed:{type:Boolean,default:!0},tagsFixed:{type:Boolean,default:!0},collapsed:{type:Boolean,default:!0},inverted:{type:Boolean,default:!0},showTrigger:{type:[Boolean,String],default:!1},onScroll:{type:Function,default:void 0}},emits:["update:collapsed"],setup(l,{emit:h}){const a=F(),o=U(),f=z(),m=O(!1),r=O(""),v=s(()=>["dark"].includes(o.navMode)),n=s(()=>o.isShowTabs),c=s(()=>l.tagsFixed&&n.value?T.tagsHeight:0),g=s(()=>{var t;return(t=a.matched.filter(d=>d.path)[0])==null?void 0:t.path}),b=s(()=>l.collapsed?l.menuOptions.map(t=>({...t,name:void 0})):l.menuOptions),p=s(()=>{var t;return((t=l.menuOptions.find(d=>r.value?d.path===r.value:d.path===g.value))==null?void 0:t.children)||[]}),w=s(()=>({"--theme-color":o.themeColor}));A(()=>a.fullPath,()=>{a.fullPath.startsWith("/redirect")||u()},{immediate:!0});function C(){h("update:collapsed",!l.collapsed)}function S(t){return{onmouseenter:()=>{if(t.isLink){i();return}r.value=t.path,u()},onmouseleave:()=>{p.value.length<=0&&i()}}}function i(){r.value="",u()}function u(){m.value=p.value.length<=0}return{defaultInverted:v,defaultValue:g,isShowTabs:n,contentTop:c,rootMenuOptions:b,menuChildrensOptions:p,layoutWrapperStyle:w,isCollapsed:m,themeVars:f,nodeProps:S,onUpdateCollapsed:C,onClearEnterValue:i}},render(){const{$slots:l,themeVars:h,collapsed:a,isCollapsed:o,showTrigger:f,isShowTabs:m,tagsFixed:r,layoutWrapperStyle:v,defaultInverted:n,nativeScrollbar:c,rootMenuOptions:g,menuChildrensOptions:b,defaultValue:p,nodeProps:w,inverted:C,contentTop:S,onUpdateCollapsed:i,onClearEnterValue:u,onScroll:t}=this,d=`transition: transform 0.3s ${h.cubicBezierEaseInOut}; transform: translateX(50%) translateY(-50%) rotate(${a?180:0}deg)`,L=o?"":`transition: right 0.3s ${h.cubicBezierEaseInOut}; right: -${o?28:188}px`,x=["arrow-circle",!0].includes(f),H=f==="bar"?"bar":x&&o?"arrow-circle":!1,B=m?e(V,{class:"layout-tags",bordered:!0,position:r?"absolute":"static"},{default:()=>[e(P,null,null)]}):null;return e(y,{class:"layout-wrapper layout-wrapper-asidemixin","has-sider":!0,position:"absolute",style:v},{default:()=>[e("div",{class:"layout-sider-wrapper"},[e($,{class:"layout-sider",collapsed:a,"collapse-mode":"width",width:140,inverted:n,bordered:!0,"native-scrollbar":c,"collapsed-trigger-style":L,"trigger-style":L,"show-trigger":H,"onUpdate:collapsed":i},{default:()=>[e(W,{collapsed:a,width:"auto",height:T.headerHeight,indent:10,onmouseenter:u},null),e(M,{style:"--n-item-height: 36px;",options:g,value:p,"root-indent":10,"collapsed-icon-size":20,"children-field":"noChild","node-props":w},null)]}),e(q,{class:"mixin-collapse",collapsed:a,size:a?24:22,width:140,border:n?"top":"top,right",inverted:n,"collapsed-width":48},null)]),e(y,{class:"n-layout-main"},{default:()=>[e(V,{class:"layout-header",bordered:!0,inverted:C,position:"absolute"},{default:()=>[e(k,null,{left:()=>e(K,{class:"breadcrumb"},null)})]}),e(N,{position:"absolute",style:`top: ${T.headerHeight}px;`},{default:()=>[e(y,{"has-sider":!0,style:"height: 100%;"},{default:()=>[e($,{class:"layout-sider-child",collapsed:o,"collapse-mode":"transform",width:160,"collapsed-width":0,bordered:!0,"native-scrollbar":c,"trigger-style":x?d:"","show-trigger":x?o?!1:"arrow-circle":!1,"onUpdate:collapsed":i,onmouseleave:u},{default:()=>[e(M,{collapsed:!1,inverted:!1,options:b,indent:15},null)]}),e(y,null,{default:()=>[r?B:null,e(N,{class:"layout-content",position:"absolute",style:`top: ${S}px; bottom: 0`,"native-scrollbar":c,onScroll:t},{default:()=>[r?null:B,I(l,"default")]})]})]})]})]})]})}});export{re as default};
