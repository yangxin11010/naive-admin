import{E as I,G as Q,c as w,a as C,H as T,I as L,d as q,J as F,K as E,o as z,L as H,M as V,N as J,B as A,O as D,V as U,P as X,Q as Y,R as j,A as G,S as W}from"../assets/index.b366dfbb.js";function Z(e){if(typeof e=="number")return{"":e.toString()};const s={};return e.split(/ +/).forEach(o=>{if(o==="")return;const[n,t]=o.split(":");t===void 0?s[""]=n:s[n]=t}),s}function _(e,s){var o;if(e==null)return;const n=Z(e);if(s===void 0)return n[""];if(typeof s=="string")return(o=n[s])!==null&&o!==void 0?o:n[""];if(Array.isArray(s)){for(let t=s.length-1;t>=0;--t){const i=s[t];if(i in n)return n[i]}return n[""]}else{let t,i=-1;return Object.keys(n).forEach(l=>{const a=Number(l);!Number.isNaN(a)&&s>=a&&a>=i&&(i=a,t=n[l])}),t}}function K(e){var s;const o=(s=e.dirs)===null||s===void 0?void 0:s.find(({dir:n})=>n===I);return!!(o&&o.value===!1)}const ee={xs:0,s:640,m:1024,l:1280,xl:1536,"2xl":1920};function te(e){return`(min-width: ${e}px)`}const x={};function se(e=ee){if(!Q)return w(()=>[]);if(typeof window.matchMedia!="function")return w(()=>[]);const s=C({}),o=Object.keys(e),n=(t,i)=>{t.matches?s.value[i]=!0:s.value[i]=!1};return o.forEach(t=>{const i=e[t];let l,a;x[i]===void 0?(l=window.matchMedia(te(i)),l.addEventListener?l.addEventListener("change",p=>{a.forEach(u=>{u(p,t)})}):l.addListener&&l.addListener(p=>{a.forEach(u=>{u(p,t)})}),a=new Set,x[i]={mql:l,cbs:a}):(l=x[i].mql,a=x[i].cbs),a.add(n),l.matches&&a.forEach(p=>{p(l,t)})}),T(()=>{o.forEach(t=>{const{cbs:i}=x[e[t]];i.has(n)&&i.delete(n)})}),w(()=>{const{value:t}=s;return o.filter(i=>t[i])})}const P=1,ne=L("n-grid"),ie={xs:0,s:640,m:1024,l:1280,xl:1536,xxl:1920},O=24,M="__ssr__",re={layoutShiftDisabled:Boolean,responsive:{type:[String,Boolean],default:"self"},cols:{type:[Number,String],default:O},itemResponsive:Boolean,collapsed:Boolean,collapsedRows:{type:Number,default:1},itemStyle:[Object,String],xGap:{type:[Number,String],default:0},yGap:{type:[Number,String],default:0}};var ae=q({name:"Grid",inheritAttrs:!1,props:re,setup(e){const{mergedClsPrefixRef:s,mergedBreakpointsRef:o}=F(e),n=/^\d+$/,t=C(void 0),i=se((o==null?void 0:o.value)||ie),l=E(()=>!!(e.itemResponsive||!n.test(e.cols.toString())||!n.test(e.xGap.toString())||!n.test(e.yGap.toString()))),a=w(()=>{if(!!l.value)return e.responsive==="self"?t.value:i.value}),p=E(()=>{var f;return(f=Number(_(e.cols.toString(),a.value)))!==null&&f!==void 0?f:O}),u=E(()=>_(e.xGap.toString(),a.value)),N=E(()=>_(e.yGap.toString(),a.value)),B=f=>{t.value=f.contentRect.width},v=f=>{W(B,f)},y=C(!1),S=w(()=>{if(e.responsive==="self")return v}),d=C(!1),h=C();return z(()=>{const{value:f}=h;f&&f.hasAttribute(M)&&(f.removeAttribute(M),d.value=!0)}),H(ne,{layoutShiftDisabledRef:V(e,"layoutShiftDisabled"),isSsrRef:d,itemStyleRef:V(e,"itemStyle"),xGapRef:u,overflowRef:y}),{isSsr:!J,contentEl:h,mergedClsPrefix:s,style:w(()=>e.layoutShiftDisabled?{width:"100%",display:"grid",gridTemplateColumns:`repeat(${e.cols}, minmax(0, 1fr))`,columnGap:G(e.xGap),rowGap:G(e.yGap)}:{width:"100%",display:"grid",gridTemplateColumns:`repeat(${p.value}, minmax(0, 1fr))`,columnGap:G(u.value),rowGap:G(N.value)}),isResponsive:l,responsiveQuery:a,responsiveCols:p,handleResize:S,overflow:y}},render(){if(this.layoutShiftDisabled)return A("div",D({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style},this.$attrs),this.$slots);const e=()=>{var s,o,n,t,i,l,a;this.overflow=!1;const p=X(Y(this)),u=[],{collapsed:N,collapsedRows:B,responsiveCols:v,responsiveQuery:y}=this;p.forEach(r=>{var b,m,c,R;if(((b=r==null?void 0:r.type)===null||b===void 0?void 0:b.__GRID_ITEM__)!==!0)return;if(K(r)){const g=j(r);g.props?g.props.privateShow=!1:g.props={privateShow:!1},u.push({child:g,rawChildSpan:0});return}r.dirs=((m=r.dirs)===null||m===void 0?void 0:m.filter(({dir:g})=>g!==I))||null;const $=j(r),k=Number((R=_((c=$.props)===null||c===void 0?void 0:c.span,y))!==null&&R!==void 0?R:P);k!==0&&u.push({child:$,rawChildSpan:k})});let S=0;const d=(s=u[u.length-1])===null||s===void 0?void 0:s.child;if(d!=null&&d.props){const r=(o=d.props)===null||o===void 0?void 0:o.suffix;r!==void 0&&r!==!1&&(S=(t=(n=d.props)===null||n===void 0?void 0:n.span)!==null&&t!==void 0?t:P,d.props.privateSpan=S,d.props.privateColStart=v+1-S,d.props.privateShow=(i=d.props.privateShow)!==null&&i!==void 0?i:!0)}let h=0,f=!1;for(const{child:r,rawChildSpan:b}of u){if(f&&(this.overflow=!0),!f){const m=Number((a=_((l=r.props)===null||l===void 0?void 0:l.offset,y))!==null&&a!==void 0?a:0),c=Math.min(b+m,v);if(r.props?(r.props.privateSpan=c,r.props.privateOffset=m):r.props={privateSpan:c,privateOffset:m},N){const R=h%v;c+R>v&&(h+=v-R),c+h+S>B*v?f=!0:h+=c}}f&&(r.props?r.props.privateShow!==!0&&(r.props.privateShow=!1):r.props={privateShow:!1})}return A("div",D({ref:"contentEl",class:`${this.mergedClsPrefix}-grid`,style:this.style,[M]:this.isSsr||void 0},this.$attrs),u.map(({child:r})=>r))};return this.isResponsive&&this.responsive==="self"?A(U,{onResize:this.handleResize},{default:e}):e()}});export{ae as _,ne as g};
