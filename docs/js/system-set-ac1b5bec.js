import{d as R,f as u,g as G,B as L,i as J,aa as z,o as Q,a9 as Z,ca as k,cD as ee,c6 as I,_ as A,j as p,k as S,p as b,bw as le,cq as E,F as M,v as T,bx as oe,an as te,m as r,s as se,l as f,q as B,ch as W,aq as U,n as q,as as ae,ar as ne,x as O,at as re,au as ue}from"../assets/index.dfdd9c17.js";import{_ as ie}from"./InputNumber-14449cdf.js";function ce(e,s,d){if(!window.ResizeObserver)return()=>{};const o=new ResizeObserver(s);return o.observe(e,d),()=>{o.unobserve(e),o.disconnect()}}const fe=R({name:"ScrollBar",props:{height:{type:Number},maxHeight:{type:Number},native:{type:Boolean,default:!1},always:{type:Boolean,default:!1},minSize:{type:Number,default:20},xScrollable:{type:Boolean,default:!1},isResize:{type:Boolean,default:!1}},emits:["scroll"],setup(e,{emit:s,expose:d}){const o=u(null),h=u(null),y=u(null);let n,t;const v=u(0),m=u(0),i=u(0),_=u(0),a=u(!1),D=G(()=>{const{height:l,maxHeight:c}=e;return{"--scroll-view-height":k(l)?void 0:l+"px","--scroll-max-height":k(l)&&!k(c)?c+"px":void 0,"--scroll-bar-thumb-size":v.value+"px"}});L(()=>[e.height,e.maxHeight,e.minSize,e.xScrollable],()=>{e.native||z(()=>{g()})}),L(()=>e.isResize,async l=>{!e.xScrollable||(await z(),l?t==null||t():t=ce(o.value,()=>g()))},{immediate:!0});function g(){if(!!o.value)if(e.xScrollable){const l=o.value.offsetWidth**2/o.value.scrollWidth;v.value=Math.max(l,e.minSize),m.value=o.value.scrollWidth-o.value.offsetWidth,i.value=o.value.offsetWidth-v.value}else{const l=o.value.offsetHeight**2/o.value.scrollHeight;v.value=Math.max(l,e.minSize),m.value=o.value.scrollHeight-o.value.offsetHeight,i.value=o.value.offsetHeight-v.value}}function $(l,c){ee(l)?o.value.scrollTo(l):I(l)&&I(c)&&(console.log(l,c),o.value.scrollTo(l,c))}function F(l){const c=l.target;e.xScrollable?_.value=c.scrollLeft/m.value*i.value:_.value=c.scrollTop/m.value*i.value,s("scroll",l)}function P(l){var Y;if(a.value=!0,l.stopPropagation(),l.ctrlKey||[1,2].includes(l.button))return;(Y=window.getSelection())==null||Y.removeAllRanges(),l.stopImmediatePropagation(),n=document.onselectstart,document.onselectstart=()=>!1;const c=e.xScrollable?h.value:y.value;let X=0;const N=getComputedStyle(c).transform;if(N!=="none"){const w=(N.match(/\((.+)\)/)[1]||"").split(",");X=Number(w[w.length-(e.xScrollable?2:1)])}function V(w){const{xScrollable:C}=e,x=(C?w.clientX-l.clientX:w.clientY-l.clientY)+X,K=x<0?0:x>i.value?i.value:x;o.value[C?"scrollLeft":"scrollTop"]=K/i.value*m.value}function H(){a.value=!1,document.removeEventListener("mousemove",V),document.removeEventListener("mouseup",H),document.onselectstart!==n&&(document.onselectstart=n)}document.addEventListener("mousemove",V),document.addEventListener("mouseup",H)}return J(async()=>{await z(),e.native||g()}),Q(()=>{t==null||t()}),Z(()=>{g()}),d({scrollTo:$}),{scrollViewRef:o,horizontalThumbRef:h,verticalThumbRef:y,translateXY:_,isMousedown:a,style:D,onScroll:F,onMousedown:P,scrollTo:$}}});const de={key:0,class:"scroll-bar__bar is-horizontal"},ve={key:1,class:"scroll-bar__bar is-vertical"};function me(e,s,d,o,h,y){return p(),S("div",{class:E(["",["scroll-bar",{"is-hover":!e.isMousedown&&!e.always}]]),style:T(e.style)},[b("div",{ref:"scrollViewRef",class:E(["scroll-bar__view",{"scroll-bar__view--hidden-default":!e.native}]),onScroll:s[0]||(s[0]=(...n)=>e.onScroll&&e.onScroll(...n))},[le(e.$slots,"default",{},void 0,!0)],34),e.native?oe("v-if",!0):(p(),S(M,{key:0},[e.xScrollable?(p(),S("div",de,[b("div",{ref:"horizontalThumbRef",class:"scroll-bar__thumb",style:T({transform:`translateX(${e.translateXY}px)`}),onMousedown:s[1]||(s[1]=(...n)=>e.onMousedown&&e.onMousedown(...n))},null,36)])):(p(),S("div",ve,[b("div",{ref:"verticalThumbRef",class:"scroll-bar__thumb",style:T({transform:`translateY(${e.translateXY}px)`}),onMousedown:s[2]||(s[2]=(...n)=>e.onMousedown&&e.onMousedown(...n))},null,36)]))],64))],6)}const j=A(fe,[["render",me],["__scopeId","data-v-8ee741bf"],["__file","/home/runner/work/naive-admin/naive-admin/src/source-code/components/ScrollBar/ScrollBar.vue"]]),_e=e=>(re("data-v-65cf3b1a"),e=e(),ue(),e),pe=_e(()=>b("h1",null,"system-set",-1)),be={class:"box-wrapper"},he=R({name:"SystemSet"}),ye=R({...he,setup(e){const s=u(1e4),d=u(1e3),o=u(),h=u();function y(n){n==="x"?h.value.scrollTo({left:d.value}):n==="y"&&o.value.scrollTo({top:s.value})}return(n,t)=>{const v=ie,m=ae,i=ne,_=se;return p(),te(_,{class:"system-set"},{default:r(()=>[pe,f(i,null,{default:r(()=>[f(_,{class:"scrollbar-wrapper"},{footer:r(()=>[f(i,null,{default:r(()=>[f(v,{value:B(s),"onUpdate:value":t[0]||(t[0]=a=>W(s)?s.value=a:null),step:1e3,placeholder:"scrollTo"},null,8,["value"]),f(m,{type:"primary",onClick:t[1]||(t[1]=a=>y("y"))},{default:r(()=>[U("scroll")]),_:1})]),_:1})]),default:r(()=>[f(B(j),{ref_key:"scrollBarRef",ref:o,"max-height":400},{default:r(()=>[(p(),S(M,null,q(400,a=>b("p",{key:a,class:"p p1"},O(a),1)),64))]),_:1},512)]),_:1}),f(_,{class:"scrollbar-wrapper"},{footer:r(()=>[f(i,null,{default:r(()=>[f(v,{value:B(d),"onUpdate:value":t[2]||(t[2]=a=>W(d)?d.value=a:null),step:100,placeholder:"scrollTo"},null,8,["value"]),f(m,{type:"primary",onClick:t[3]||(t[3]=a=>y("x"))},{default:r(()=>[U("scroll")]),_:1})]),_:1})]),default:r(()=>[f(B(j),{ref_key:"scrollBarXRef",ref:h,"x-scrollable":"",always:""},{default:r(()=>[b("div",be,[(p(),S(M,null,q(40,a=>b("p",{key:a,class:"p p2"},O(a),1)),64))])]),_:1},512)]),_:1})]),_:1})]),_:1})}}});const ge=A(ye,[["__scopeId","data-v-65cf3b1a"],["__file","/home/runner/work/naive-admin/naive-admin/src/views/set/system-set.vue"]]);export{ge as default};
