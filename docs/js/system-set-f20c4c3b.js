import{d as N,f as c,g as G,B as I,i as J,aa as M,o as Q,a9 as Z,ca as R,cD as ee,c6 as E,_ as D,j as m,k as w,p as v,bw as le,cq as H,F as $,v as X,bx as oe,an as te,m as u,s as se,l as i,q as T,ch as U,aq as q,n as O,as as ne,ar as ae,x as j,at as re,au as ue}from"../assets/index.4a9adf12.js";import{_ as ce}from"./InputNumber-bdc386b8.js";function ie(e,t,d){if(!window.ResizeObserver)return()=>{};const s=new ResizeObserver(t);return s.observe(e,d),()=>{s.unobserve(e),s.disconnect()}}const de=N({name:"ScrollBar",props:{height:{type:Number},maxHeight:{type:Number},native:{type:Boolean,default:!1},always:{type:Boolean,default:!1},minSize:{type:Number,default:20},xScrollable:{type:Boolean,default:!1},isResize:{type:Boolean,default:!1}},emits:["scroll"],setup(e,{emit:t,expose:d}){const s=c(null),_=c(null),p=c(null);let r,o;const b=c(0),y=c(0),f=c(0),h=c(0),n=c(!1),F=G(()=>{const{height:l,maxHeight:a}=e;return{"--scroll-view-height":R(l)?void 0:l+"px","--scroll-max-height":R(l)&&!R(a)?a+"px":void 0,"--scroll-bar-thumb-size":b.value+"px"}});I(()=>[e.height,e.maxHeight,e.minSize,e.xScrollable],()=>{e.native||M(()=>{k()})}),I(()=>e.isResize,async l=>{!e.xScrollable||(await M(),l?o==null||o():o=ie(s.value,()=>k()))},{immediate:!0});function k(){if(!s.value)return;const{xScrollable:l}=e,{offsetWidth:a,offsetHeight:S,scrollWidth:g,scrollHeight:B}=s.value;b.value=Math.max(l?a**2/g:S**2/B,e.minSize),y.value=l?g-a:B-S,f.value=(l?a:S)-b.value}function V(l,a){ee(l)?s.value.scrollTo(l):E(l)&&E(a)&&(console.log(l,a),s.value.scrollTo(l,a))}function P(l){const a=l.target;h.value=a[e.xScrollable?"scrollLeft":"scrollTop"]/y.value*f.value,t("scroll",l)}function W(l){var C;if(n.value=!0,l.stopPropagation(),l.ctrlKey||[1,2].includes(l.button))return;(C=window.getSelection())==null||C.removeAllRanges(),l.stopImmediatePropagation(),r=document.onselectstart,document.onselectstart=()=>!1;const a=e.xScrollable?_.value:p.value;let S=0;const g=getComputedStyle(a).transform;if(g!=="none"){const x=(g.match(/\((.+)\)/)[1]||"").split(",");S=Number(x[x.length-(e.xScrollable?2:1)])}function B(x){const{xScrollable:L}=e,z=(L?x.clientX-l.clientX:x.clientY-l.clientY)+S,K=z<0?0:z>f.value?f.value:z;s.value[L?"scrollLeft":"scrollTop"]=K/f.value*y.value}function Y(){n.value=!1,document.removeEventListener("mousemove",B),document.removeEventListener("mouseup",Y),document.onselectstart!==r&&(document.onselectstart=r)}document.addEventListener("mousemove",B),document.addEventListener("mouseup",Y)}return J(async()=>{await M(),e.native||k()}),Q(()=>{o==null||o()}),Z(()=>{k()}),d({scrollTo:V}),{scrollViewRef:s,horizontalThumbRef:_,verticalThumbRef:p,translateXY:h,isMousedown:n,style:F,onScroll:P,onMousedown:W,scrollTo:V}}});const fe={key:0,class:"scroll-bar__bar is-horizontal"},me={key:1,class:"scroll-bar__bar is-vertical"};function ve(e,t,d,s,_,p){return m(),w("div",{class:H(["",["scroll-bar",{"is-hover":!e.isMousedown&&!e.always}]]),style:X(e.style)},[v("div",{ref:"scrollViewRef",class:H(["scroll-bar__view",{"scroll-bar__view--hidden-default":!e.native}]),onScroll:t[0]||(t[0]=(...r)=>e.onScroll&&e.onScroll(...r))},[le(e.$slots,"default",{},void 0,!0)],34),e.native?oe("v-if",!0):(m(),w($,{key:0},[e.xScrollable?(m(),w("div",fe,[v("div",{ref:"horizontalThumbRef",class:"scroll-bar__thumb",style:X({transform:`translateX(${e.translateXY}px)`}),onMousedown:t[1]||(t[1]=(...r)=>e.onMousedown&&e.onMousedown(...r))},null,36)])):(m(),w("div",me,[v("div",{ref:"verticalThumbRef",class:"scroll-bar__thumb",style:X({transform:`translateY(${e.translateXY}px)`}),onMousedown:t[2]||(t[2]=(...r)=>e.onMousedown&&e.onMousedown(...r))},null,36)]))],64))],6)}const A=D(de,[["render",ve],["__scopeId","data-v-8ee741bf"],["__file","/home/runner/work/naive-admin/naive-admin/src/source-code/components/ScrollBar/ScrollBar.vue"]]),_e=e=>(re("data-v-65cf3b1a"),e=e(),ue(),e),pe=_e(()=>v("h1",null,"system-set",-1)),be={class:"box-wrapper"},ye=N({name:"SystemSet"}),he=N({...ye,setup(e){const t=c(1e4),d=c(1e3),s=c(),_=c();function p(r){r==="x"?_.value.scrollTo({left:d.value}):r==="y"&&s.value.scrollTo({top:t.value})}return(r,o)=>{const b=ce,y=ne,f=ae,h=se;return m(),te(h,{class:"system-set"},{default:u(()=>[pe,i(f,null,{default:u(()=>[i(h,{class:"scrollbar-wrapper"},{footer:u(()=>[i(f,null,{default:u(()=>[i(b,{value:T(t),"onUpdate:value":o[0]||(o[0]=n=>U(t)?t.value=n:null),step:1e3,placeholder:"scrollTo"},null,8,["value"]),i(y,{type:"primary",onClick:o[1]||(o[1]=n=>p("y"))},{default:u(()=>[q("scroll")]),_:1})]),_:1})]),default:u(()=>[i(T(A),{ref_key:"scrollBarRef",ref:s,"max-height":400},{default:u(()=>[(m(),w($,null,O(400,n=>v("p",{key:n,class:"p p1"},j(n),1)),64))]),_:1},512)]),_:1}),i(h,{class:"scrollbar-wrapper"},{footer:u(()=>[i(f,null,{default:u(()=>[i(b,{value:T(d),"onUpdate:value":o[2]||(o[2]=n=>U(d)?d.value=n:null),step:100,placeholder:"scrollTo"},null,8,["value"]),i(y,{type:"primary",onClick:o[3]||(o[3]=n=>p("x"))},{default:u(()=>[q("scroll")]),_:1})]),_:1})]),default:u(()=>[i(T(A),{ref_key:"scrollBarXRef",ref:_,"x-scrollable":"",always:""},{default:u(()=>[v("div",be,[(m(),w($,null,O(40,n=>v("p",{key:n,class:"p p2"},j(n),1)),64))])]),_:1},512)]),_:1})]),_:1})]),_:1})}}});const ge=D(he,[["__scopeId","data-v-65cf3b1a"],["__file","/home/runner/work/naive-admin/naive-admin/src/views/set/system-set.vue"]]);export{ge as default};
